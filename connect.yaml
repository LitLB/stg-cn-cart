deployAs:
  - name: cart
    applicationType: service
    endpoint: /cart
    scripts:
      postDeploy: npm install && npm run build
      preUndeploy: npm install && npm run build
    configuration:
      standardConfiguration:
        - key: APP_PORT
          description: App port
          required: true
        - key: APP_ENV
          description: commercetools Composable Commerce API region
          required: true
        - key: SHUTDOWN_ON_FATAL_ERROR
          description: Shutdown on fatal error
          required: true
        - key: CTP_REGION
          description: Commercetools API region (e.g., 'us-east-1')
          required: true
        - key: CTP_AUTH_URL
          description: Commercetools authentication URL (e.g., 'https://auth.commercetools.com')
          required: true
        - key: CTP_API_URL
          description: Commercetools API base URL (e.g., 'https://api.commercetools.com')
          required: true
        - key: ONLINE_CHANNEL
          description: Commercetools inventory channel identifier
          required: true
        - key: CTP_SUPPLY_CHANNEL_ID
          description: Commercetools inventory channel id identifier
          required: true
        - key: CTP_WHOLE_CART_LIMIT
          description: Commercetools whole cart item limit
          required: true
        - key: CTP_DEFAULT_COUPON_LIMIT
          description: Config limit coupon
          required: true
        - key: CT_PRICE_CUSTOMER_GROUP_ID_RRP
          description: Commercetools Price Customer Group ID for Recommended Retail Price (RRP)
          required: true
        - key: CTP_ADD_CUSTOM_COUPON_LINE_ITEM_PREFIX
          description: Commercetools Coupon Line Item Prefix
          required: true
        - key: CTP_TAX_CATEGORY_ID
          description: Commercetools Tax Category Id
          required: true
        - key: T1_URL
          description: Talon.one service base URL (e.g., 'https://api.talon.one')
          required: true
        - key: T1_API_KEY_PREFIX
          description: Talon.one API Key Prefix used for identifying API keys
          required: true
        - key: AWS_BUCKET_VC
          description: AWS Bucket
          required: true
        - key: AWS_REGION
          description: AWS region
          required: true
        - key: TSM_ORDER_SHOP_CODE
          description: Tsm order shop code
          required: true
        - key: TSM_ORDER_SALE_CODE
          description: Tsm order sale code
          required: true
        - key: TSM_ORDER_SALE_NAME
          description: Tsm order sale name
          required: true
        - key: APIGW_BASE_URL
          description: Apigee base url
          required: true
        - key: CTP_ADD_CUSTOM_OTHER_PAYMENT_LINE_ITEM_PREFIX
          description: Commercetools Other Payment Line Item Prefix
          required: true
        - key: HEADLESS_BASE_URL
          description: Headless Base Url
          required: true
      securedConfiguration:
        - key: CTP_PROJECT_KEY
          description: Commercetools project key identifying your specific project
          required: true
        - key: CTP_CLIENT_ID
          description: Commercetools client ID for authentication purposes
          required: true
        - key: CTP_CLIENT_SECRET
          description: Commercetools client secret corresponding to the client ID
          required: true
        - key: CTP_SCOPE
          description: Commercetools authentication scope (e.g., 'manage_project:cart')
          required: true
        - key: BFF_CTP_CLIENT_ID
          description: Commercetools client ID for managing Anonymous Sessions
          required: true
        - key: BFF_CTP_CLIENT_SECRET
          description: Commercetools client secret for managing Anonymous Sessions
          required: true
        - key: T1_API_KEY
          description: Talon.one API Key used for authenticating requests to Talon.one services
          required: true
        - key: AWS_ACCESS_KEY_ID
          description: AWS access key
          required: true
        - key: AWS_SECRET_ACCESS_KEY
          description: AWS secret access key
          required: true
        - key: APIGW_CLIENT_ID
          description: Apigee client ID
          required: true
        - key: APIGW_CLIENT_SECRET
          description: Apigee client secret
          required: true
        - key: APIGW_PRIVATE_KEY_ENCRYPTION
          description: Apigee private key encryption
          required: true
        - key: HEADLESS_API_KEY
          description: Headless Api Key
          required: true
        - key: HEADLESS_PRIVATE_KEY_ENCRYPTION
          description: Headless private key encryption
          required: true
  - name: coupon
    applicationType: service
    endpoint: /coupon
    scripts:
      postDeploy: npm install && npm run build
      preUndeploy: npm install && npm run build
    configuration:
      standardConfiguration:
        - key: APP_PORT
          description: App port
          required: true
        - key: SHUTDOWN_ON_FATAL_ERROR
          description: Shutdown on fatal error
          required: true
        - key: CTP_REGION
          description: Commercetools API region (e.g., 'us-east-1')
          required: true
        - key: CTP_AUTH_URL
          description: Commercetools authentication URL (e.g., 'https://auth.commercetools.com')
          required: true
        - key: CTP_API_URL
          description: Commercetools API base URL (e.g., 'https://api.commercetools.com')
          required: true
        - key: ONLINE_CHANNEL
          description: Commercetools inventory channel identifier
          required: true
        - key: CTP_SUPPLY_CHANNEL_ID
          description: Commercetools inventory channel id identifier
          required: true
        - key: CTP_WHOLE_CART_LIMIT
          description: Commercetools whole cart item limit
          required: true
        - key: CTP_DEFAULT_COUPON_LIMIT
          description: Config limit coupon
          required: true
        - key: CT_PRICE_CUSTOMER_GROUP_ID_RRP
          description: Commercetools Price Customer Group ID for Recommended Retail Price (RRP)
          required: true
        - key: CTP_ADD_CUSTOM_COUPON_LINE_ITEM_PREFIX
          description: Commercetools Coupon Line Item Prefix
          required: true
        - key: CTP_TAX_CATEGORY_ID
          description: Commercetools Tax Category Id
          required: true
        - key: T1_URL
          description: Talon.one service base URL (e.g., 'https://api.talon.one')
          required: true
        - key: T1_API_KEY_PREFIX
          description: Talon.one API Key Prefix used for identifying API keys
          required: true
        - key: AWS_BUCKET_VC
          description: AWS Bucket
          required: true
        - key: AWS_REGION
          description: AWS region
          required: true
        - key: TSM_ORDER_SHOP_CODE
          description: Tsm order shop code
          required: true
        - key: TSM_ORDER_SALE_CODE
          description: Tsm order sale code
          required: true
        - key: TSM_ORDER_SALE_NAME
          description: Tsm order sale name
          required: true
        - key: APIGW_BASE_URL
          description: Apigee base url
          required: true
      securedConfiguration:
        - key: CTP_PROJECT_KEY
          description: Commercetools project key identifying your specific project
          required: true
        - key: CTP_CLIENT_ID
          description: Commercetools client ID for authentication purposes
          required: true
        - key: CTP_CLIENT_SECRET
          description: Commercetools client secret corresponding to the client ID
          required: true
        - key: CTP_SCOPE
          description: Commercetools authentication scope (e.g., 'manage_project:cart')
          required: true
        - key: BFF_CTP_CLIENT_ID
          description: Commercetools client ID for managing Anonymous Sessions
          required: true
        - key: BFF_CTP_CLIENT_SECRET
          description: Commercetools client secret for managing Anonymous Sessions
          required: true
        - key: T1_API_KEY
          description: Talon.one API Key used for authenticating requests to Talon.one services
          required: true
        - key: AWS_ACCESS_KEY_ID
          description: AWS access key
          required: true
        - key: AWS_SECRET_ACCESS_KEY
          description: AWS secret access key
          required: true
        - key: APIGW_CLIENT_ID
          description: Apigee client ID
          required: true
        - key: APIGW_CLIENT_SECRET
          description: Apigee client secret
          required: true
  - name: store-order-history
    applicationType: event
    endpoint: /store
    scripts:
      postDeploy: npm install && npm run build && npm run connector:post-deploy
      preUndeploy: npm install && npm run build && npm run connector:pre-undeploy
    configuration:
      standardConfiguration:
        - key: APP_ENV
          description: commercetools Composable Commerce API region
          required: true
        - key: CTP_REGION
          description: commercetools Composable Commerce API region
          required: true
        - key: AWS_REGION
          description: AWS region
          required: true
      securedConfiguration:
        - key: CTP_PROJECT_KEY
          description: commercetools Composable Commerce project key
          required: true
        - key: CTP_CLIENT_ID
          description: commercetools Composable Commerce client ID
          required: true
        - key: CTP_CLIENT_SECRET
          description: commercetools Composable Commerce client secret
          required: true
        - key: CTP_SCOPE
          description: commercetools Composable Commerce client scope
          required: true
        - key: CONNECT_GCP_TOPIC_NAME_KEY
          description: connect Pub/Sub topic name
          required: true
        - key: CONNECT_GCP_PROJECT_ID_KEY
          description: connect Pub/Sub project id
          required: true
        - key: AWS_ACCESS_KEY_ID
          description: AWS access key
          required: true
        - key: AWS_SECRET_ACCESS_KEY
          description: AWS secret access key
          required: true
  - name: verify
    applicationType: service
    endpoint: /verify
    scripts:
      postDeploy: npm install && npm run build
      preUndeploy: npm install && npm run build
    configuration:
      standardConfiguration:
        - key: APP_PORT
          description: App port
          required: true
        - key: SHUTDOWN_ON_FATAL_ERROR
          description: Shutdown on fatal error
          required: true
        - key: CTP_REGION
          description: Commercetools API region (e.g., 'us-east-1')
          required: true
        - key: CTP_AUTH_URL
          description: Commercetools authentication URL (e.g., 'https://auth.commercetools.com')
          required: true
        - key: CTP_API_URL
          description: Commercetools API base URL (e.g., 'https://api.commercetools.com')
          required: true
        - key: APIGW_BASE_URL
          description: Apigee base url
          required: true
        - key: OTP_NUMBER_MINUTE_EXPIRE
          description: Time to expire OTP
          required: true
        - key: OTP_NUMBER_SECOND_RESEND
          description: Time to allow resend OTP
          required: true
        - key: OTP_IS_MOCK
          description: Flag check mock for OTP
          required: true
        - key: OMNI_BASE_URL
          description: Omni Base Url
          required: true
        - key: HL_BASE_URL
          description: Hl Base Url
          required: true
      securedConfiguration:
        - key: CTP_PROJECT_KEY
          description: Commercetools project key identifying your specific project
          required: true
        - key: CTP_CLIENT_ID
          description: Commercetools client ID for authentication purposes
          required: true
        - key: CTP_CLIENT_SECRET
          description: Commercetools client secret corresponding to the client ID
          required: true
        - key: CTP_SCOPE
          description: Commercetools authentication scope (e.g., 'manage_project:cart')
          required: true
        - key: T1_API_KEY
          description: Talon.one API Key used for authenticating requests to Talon.one services
          required: true
        - key: AWS_ACCESS_KEY_ID
          description: AWS access key
          required: true
        - key: AWS_SECRET_ACCESS_KEY
          description: AWS secret access key
          required: true
        - key: APIGW_CLIENT_ID
          description: Apigee client ID
          required: true
        - key: APIGW_CLIENT_SECRET
          description: Apigee client secret
          required: true
        - key: APIGW_PRIVATE_KEY_ENCRYPTION
          description: Apigee key encryption
          required: true
        - key: OMNI_API_KEY
          description: Omni Api Key
          required: true
        - key: HL_API_KEY
          description: Hl Api Key
          required: true
  - name: save-order-tsm
    applicationType: job
    endpoint: /jobs/save
    properties:
      schedule: "*/10 * * * *"
    configuration:
      standardConfiguration:
        - key: APP_ENV
          description: commercetools Composable Commerce API region
          required: true
        - key: CTP_REGION
          description: commercetools Composable Commerce API region
          required: true
        - key: CTP_AUTH_URL
          description: Commercetools authentication URL (e.g., 'https://auth.commercetools.com')
          required: true
        - key: CTP_API_URL
          description: Commercetools API base URL (e.g., 'https://api.commercetools.com')
          required: true
        - key: AWS_REGION
          description: AWS region
          required: true
        - key: DISABLE_CRON
          description: The cron job is temporarily will not perform its scheduled tasks if value = true
          default: 'false'
        - key: CT_MAX_RETRY
          description: MAXIMUM RETRY COUNT FOR COMMERCETOOLS UPDATE
          required: true
      securedConfiguration:
        - key: CTP_PROJECT_KEY
          description: commercetools Composable Commerce project key
          required: true
        - key: CTP_CLIENT_ID
          description: commercetools Composable Commerce client ID
          required: true
        - key: CTP_CLIENT_SECRET
          description: commercetools Composable Commerce client secret
          required: true
        - key: CTP_SCOPE
          description: commercetools Composable Commerce client scope
          required: true
        - key: CONNECT_GCP_TOPIC_NAME_KEY
          description: connect Pub/Sub topic name
          required: true
        - key: CONNECT_GCP_PROJECT_ID_KEY
          description: connect Pub/Sub project id
          required: true
        - key: AWS_ACCESS_KEY_ID
          description: AWS access key
          required: true
        - key: AWS_SECRET_ACCESS_KEY
          description: AWS secret access key
          required: true

